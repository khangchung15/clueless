var ze=Object.defineProperty;var De=(t,e,n)=>e in t?ze(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ue=(t,e,n)=>De(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function y(){}function Le(t){return t()}function Ee(){return Object.create(null)}function J(t){t.forEach(Le)}function Ie(t){return typeof t=="function"}function K(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Je(t){return Object.keys(t).length===0}function xe(t,...e){if(t==null){for(const s of e)s(void 0);return y}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Ue(t,e,n){t.$$.on_destroy.push(xe(e,n))}function c(t,e){t.appendChild(e)}function O(t,e,n){t.insertBefore(e,n||null)}function $(t){t.parentNode&&t.parentNode.removeChild(t)}function Ve(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function h(t){return document.createElement(t)}function b(t){return document.createTextNode(t)}function G(){return b(" ")}function fe(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function Ye(t){return function(e){return e.preventDefault(),t.call(this,e)}}function _(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Ke(t){return Array.from(t.childNodes)}function Q(t,e){e=""+e,t.data!==e&&(t.data=e)}function Oe(t,e){t.value=e??""}function Qe(t,e,{bubbles:n=!1,cancelable:s=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:s})}let Y;function V(t){Y=t}function Fe(){if(!Y)throw new Error("Function called outside component initialization");return Y}function He(t){Fe().$$.on_mount.push(t)}function Xe(){const t=Fe();return(e,n,{cancelable:s=!1}={})=>{const r=t.$$.callbacks[e];if(r){const o=Qe(e,n,{cancelable:s});return r.slice().forEach(l=>{l.call(t,o)}),!o.defaultPrevented}return!0}}const z=[],Se=[];let D=[];const We=[],Ze=Promise.resolve();let ae=!1;function et(){ae||(ae=!0,Ze.then(Te))}function de(t){D.push(t)}const ce=new Set;let M=0;function Te(){if(M!==0)return;const t=Y;do{try{for(;M<z.length;){const e=z[M];M++,V(e),tt(e.$$)}}catch(e){throw z.length=0,M=0,e}for(V(null),z.length=0,M=0;Se.length;)Se.pop()();for(let e=0;e<D.length;e+=1){const n=D[e];ce.has(n)||(ce.add(n),n())}D.length=0}while(z.length);for(;We.length;)We.pop()();ae=!1,ce.clear(),V(t)}function tt(t){if(t.fragment!==null){t.update(),J(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(de)}}function nt(t){const e=[],n=[];D.forEach(s=>t.indexOf(s)===-1?e.push(s):n.push(s)),n.forEach(s=>s()),D=e}const H=new Set;let F;function Ge(){F={r:0,c:[],p:F}}function qe(){F.r||J(F.c),F=F.p}function A(t,e){t&&t.i&&(H.delete(t),t.i(e))}function I(t,e,n,s){if(t&&t.o){if(H.has(t))return;H.add(t),F.c.push(()=>{H.delete(t),s&&(n&&t.d(1),s())}),t.o(e)}else s&&s()}function Re(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function pe(t){t&&t.c()}function X(t,e,n){const{fragment:s,after_update:r}=t.$$;s&&s.m(e,n),de(()=>{const o=t.$$.on_mount.map(Le).filter(Ie);t.$$.on_destroy?t.$$.on_destroy.push(...o):J(o),t.$$.on_mount=[]}),r.forEach(de)}function Z(t,e){const n=t.$$;n.fragment!==null&&(nt(n.after_update),J(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function st(t,e){t.$$.dirty[0]===-1&&(z.push(t),et(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ee(t,e,n,s,r,o,l=null,u=[-1]){const a=Y;V(t);const i=t.$$={fragment:null,ctx:[],props:o,update:y,not_equal:r,bound:Ee(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Ee(),dirty:u,skip_bound:!1,root:e.target||a.$$.root};l&&l(i.root);let p=!1;if(i.ctx=n?n(t,e.props||{},(f,g,...d)=>{const q=d.length?d[0]:g;return i.ctx&&r(i.ctx[f],i.ctx[f]=q)&&(!i.skip_bound&&i.bound[f]&&i.bound[f](q),p&&st(t,f)),g}):[],i.update(),p=!0,J(i.before_update),i.fragment=s?s(i.ctx):!1,e.target){if(e.hydrate){const f=Ke(e.target);i.fragment&&i.fragment.l(f),f.forEach($)}else i.fragment&&i.fragment.c();e.intro&&A(t.$$.fragment),X(t,e.target,e.anchor),Te()}V(a)}class te{constructor(){ue(this,"$$");ue(this,"$$set")}$destroy(){Z(this,1),this.$destroy=y}$on(e,n){if(!Ie(n))return y;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(n),()=>{const r=s.indexOf(n);r!==-1&&s.splice(r,1)}}$set(e){this.$$set&&!Je(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const rt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(rt);function ot(t){let e,n,s,r,o,l;return{c(){e=h("div"),n=h("h2"),n.textContent="Your Word:",s=G(),r=h("div"),o=h("p"),l=b(t[0]),_(n,"class","svelte-1rq88wj"),_(o,"class","word svelte-1rq88wj"),_(r,"class","word-container svelte-1rq88wj"),_(e,"class","word-display svelte-1rq88wj")},m(u,a){O(u,e,a),c(e,n),c(e,s),c(e,r),c(r,o),c(o,l)},p(u,[a]){a&1&&Q(l,u[0])},i:y,o:y,d(u){u&&$(e)}}}function it(t,e,n){let{word:s=""}=e;return t.$$set=r=>{"word"in r&&n(0,s=r.word)},[s]}class lt extends te{constructor(e){super(),ee(this,e,it,ot,K,{word:0})}}function ut(t){let e;return{c(){e=b("Send Clue")},m(n,s){O(n,e,s)},d(n){n&&$(e)}}}function ct(t){let e;return{c(){e=b("AI is thinking...")},m(n,s){O(n,e,s)},d(n){n&&$(e)}}}function ft(t){let e,n,s,r,o,l,u,a;function i(g,d){return g[0]?ct:ut}let p=i(t),f=p(t);return{c(){e=h("div"),n=h("form"),s=h("div"),r=h("input"),o=G(),l=h("button"),f.c(),_(r,"type","text"),_(r,"placeholder","Enter your clue..."),_(r,"class","input svelte-1ombq5y"),r.disabled=t[0],_(l,"type","submit"),_(l,"class","submit-btn svelte-1ombq5y"),l.disabled=t[0],_(s,"class","input-container svelte-1ombq5y"),_(e,"class","clue-input svelte-1ombq5y")},m(g,d){O(g,e,d),c(e,n),c(n,s),c(s,r),Oe(r,t[1]),c(s,o),c(s,l),f.m(l,null),u||(a=[fe(r,"input",t[4]),fe(n,"submit",Ye(t[2]))],u=!0)},p(g,[d]){d&1&&(r.disabled=g[0]),d&2&&r.value!==g[1]&&Oe(r,g[1]),p!==(p=i(g))&&(f.d(1),f=p(g),f&&(f.c(),f.m(l,null))),d&1&&(l.disabled=g[0])},i:y,o:y,d(g){g&&$(e),f.d(),u=!1,J(a)}}}function at(t,e,n){const s=Xe();let r="",{currentWord:o=""}=e,{isProcessing:l=!1}=e;function u(){r.trim()&&(n(0,l=!0),s("submit",{clue:r,currentWord:o}),n(1,r=""))}function a(){r=this.value,n(1,r)}return t.$$set=i=>{"currentWord"in i&&n(3,o=i.currentWord),"isProcessing"in i&&n(0,l=i.isProcessing)},[l,r,u,o,a]}class dt extends te{constructor(e){super(),ee(this,e,at,ft,K,{currentWord:3,isProcessing:0})}}function Ne(t,e,n){const s=t.slice();return s[2]=e[n],s}function je(t){let e,n,s=t[2]+"",r,o;return{c(){e=h("div"),n=h("span"),r=b(s),o=G(),_(n,"class","guess-text svelte-17eygq2"),_(e,"class","guess svelte-17eygq2")},m(l,u){O(l,e,u),c(e,n),c(n,r),c(e,o)},p(l,u){u&1&&s!==(s=l[2]+"")&&Q(r,s)},d(l){l&&$(e)}}}function pt(t){let e,n,s,r,o,l,u,a,i=Re(t[0]),p=[];for(let f=0;f<i.length;f+=1)p[f]=je(Ne(t,i,f));return{c(){e=h("div"),n=h("h2"),n.textContent="AI's Guesses",s=G(),r=h("div"),o=h("p"),l=b(t[1]),u=G(),a=h("div");for(let f=0;f<p.length;f+=1)p[f].c();_(n,"class","svelte-17eygq2"),_(o,"class","svelte-17eygq2"),_(r,"class","response svelte-17eygq2"),_(a,"class","guesses svelte-17eygq2"),_(e,"class","ai-guesser svelte-17eygq2")},m(f,g){O(f,e,g),c(e,n),c(e,s),c(e,r),c(r,o),c(o,l),c(e,u),c(e,a);for(let d=0;d<p.length;d+=1)p[d]&&p[d].m(a,null)},p(f,[g]){if(g&2&&Q(l,f[1]),g&1){i=Re(f[0]);let d;for(d=0;d<i.length;d+=1){const q=Ne(f,i,d);p[d]?p[d].p(q,g):(p[d]=je(q),p[d].c(),p[d].m(a,null))}for(;d<p.length;d+=1)p[d].d(1);p.length=i.length}},i:y,o:y,d(f){f&&$(e),Ve(p,f)}}}function gt(t,e,n){let{guesses:s=[]}=e,{currentResponse:r=""}=e;return t.$$set=o=>{"guesses"in o&&n(0,s=o.guesses),"currentResponse"in o&&n(1,r=o.currentResponse)},[s,r]}class mt extends te{constructor(e){super(),ee(this,e,gt,pt,K,{guesses:0,currentResponse:1})}}const B=[];function _t(t,e=y){let n;const s=new Set;function r(u){if(K(t,u)&&(t=u,n)){const a=!B.length;for(const i of s)i[1](),B.push(i,t);if(a){for(let i=0;i<B.length;i+=2)B[i][0](B[i+1]);B.length=0}}}function o(u){r(u(t))}function l(u,a=y){const i=[u,a];return s.add(i),s.size===1&&(n=e(r,o)||y),u(t),()=>{s.delete(i),s.size===0&&n&&(n(),n=null)}}return{set:r,update:o,subscribe:l}}const P={basePoints:10,minPoints:1,maxClues:2,bonusPoints:10,penaltyPerClue:2};function ht(){const{subscribe:t,set:e,update:n}=_t({clues:[],guesses:[],currentResponse:"",points:0,guessedWords:new Set,isGameOver:!1});return{subscribe:t,startGame:s=>{n(r=>({...r,clues:[],guesses:[],currentResponse:"",isGameOver:!1}))},addClue:s=>{n(r=>({...r,clues:[...r.clues,s]}))},addGuess:s=>{n(r=>({...r,guesses:[...r.guesses,s]}))},updateResponse:s=>{n(r=>({...r,currentResponse:s}))},calculatePoints:s=>s<=P.maxClues?P.basePoints+P.bonusPoints:Math.max(P.basePoints-(s-P.maxClues)*P.penaltyPerClue,P.minPoints),addPoints:s=>{n(r=>({...r,points:r.points+s}))},addGuessedWord:s=>{n(r=>({...r,guessedWords:new Set([...r.guessedWords,s.toLowerCase()])}))},endGame:()=>{n(s=>({...s,isGameOver:!0}))},reset:()=>{e({clues:[],guesses:[],currentResponse:"",points:0,guessedWords:new Set,isGameOver:!1})}}}const R=ht(),ge="http://localhost:3000/api";async function bt(t=[]){try{const e=await fetch(`${ge}/generate-word`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({guessedWords:t})});if(!e.ok)throw new Error("Failed to generate word");return(await e.json()).word}catch(e){throw console.error("Error generating word:",e),e}}async function yt(t,e){try{const n=await fetch(`${ge}/validate-clue`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({clue:t,currentWord:e})});if(!n.ok)throw new Error("Failed to validate clue");return await n.json()}catch(n){throw console.error("Error validating clue:",n),n}}async function wt(t,e){try{const n=await fetch(`${ge}/process-clue`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({clue:t,previousClues:e})});if(!n.ok)throw new Error("Failed to process clue");return await n.json()}catch(n){throw console.error("Error processing clue:",n),n}}function vt(t){let e,n;return e=new lt({props:{word:t[0]}}),{c(){pe(e.$$.fragment)},m(s,r){X(e,s,r),n=!0},p(s,r){const o={};r&1&&(o.word=s[0]),e.$set(o)},i(s){n||(A(e.$$.fragment,s),n=!0)},o(s){I(e.$$.fragment,s),n=!1},d(s){Z(e,s)}}}function Pt(t){let e;return{c(){e=h("div"),e.textContent="Starting new game...",_(e,"class","loading-message svelte-14rtc06")},m(n,s){O(n,e,s)},p:y,i:y,o:y,d(n){n&&$(e)}}}function Ae(t){let e,n;return{c(){e=h("div"),n=b(t[2]),_(e,"class","error-message svelte-14rtc06")},m(s,r){O(s,e,r),c(e,n)},p(s,r){r&4&&Q(n,s[2])},d(s){s&&$(e)}}}function $t(t){let e,n;return e=new dt({props:{currentWord:t[0],isProcessing:t[1]}}),e.$on("submit",t[5]),{c(){pe(e.$$.fragment)},m(s,r){X(e,s,r),n=!0},p(s,r){const o={};r&1&&(o.currentWord=s[0]),r&2&&(o.isProcessing=s[1]),e.$set(o)},i(s){n||(A(e.$$.fragment,s),n=!0)},o(s){I(e.$$.fragment,s),n=!1},d(s){Z(e,s)}}}function kt(t){let e,n,s;function r(u,a){return u[1]?Et:Ct}let o=r(t),l=o(t);return{c(){e=h("button"),l.c(),_(e,"class","next-word-btn svelte-14rtc06"),e.disabled=t[1]},m(u,a){O(u,e,a),l.m(e,null),n||(s=fe(e,"click",t[4]),n=!0)},p(u,a){o!==(o=r(u))&&(l.d(1),l=o(u),l&&(l.c(),l.m(e,null))),a&2&&(e.disabled=u[1])},i:y,o:y,d(u){u&&$(e),l.d(),n=!1,s()}}}function Ct(t){let e;return{c(){e=b("Next Word")},m(n,s){O(n,e,s)},d(n){n&&$(e)}}}function Et(t){let e;return{c(){e=b("Loading...")},m(n,s){O(n,e,s)},d(n){n&&$(e)}}}function Ot(t){let e,n,s,r,o,l=t[3].points+"",u,a,i,p,f=P.maxClues+"",g,d,q=P.basePoints+P.bonusPoints+"",x,T,me,_e,Me=P.basePoints+"",he,be,Be=P.penaltyPerClue+"",ye,we,ve,v,k,S,ne,se,C,W,re,L,U;const Pe=[Pt,vt],N=[];function $e(m,E){return m[1]&&!m[0]?0:1}k=$e(t),S=N[k]=Pe[k](t);let w=t[2]&&Ae(t);const ke=[kt,$t],j=[];function Ce(m,E){return m[3].isGameOver?0:1}return C=Ce(t),W=j[C]=ke[C](t),L=new mt({props:{guesses:t[3].guesses,currentResponse:t[3].currentResponse}}),{c(){e=h("main"),n=h("h1"),n.textContent="Word Guessing Game",s=G(),r=h("div"),o=b("Points: "),u=b(l),a=G(),i=h("div"),p=b("Quick guess (â‰¤"),g=b(f),d=b(" clues): "),x=b(q),T=b(` points
      `),me=h("br"),_e=b(`
      Otherwise: `),he=b(Me),be=b(" points - "),ye=b(Be),we=b(" per extra clue"),ve=G(),v=h("div"),S.c(),ne=G(),w&&w.c(),se=G(),W.c(),re=G(),pe(L.$$.fragment),_(n,"class","svelte-14rtc06"),_(i,"class","scoring-info svelte-14rtc06"),_(r,"class","score-display svelte-14rtc06"),_(v,"class","game-container svelte-14rtc06"),_(e,"class","container svelte-14rtc06")},m(m,E){O(m,e,E),c(e,n),c(e,s),c(e,r),c(r,o),c(r,u),c(r,a),c(r,i),c(i,p),c(i,g),c(i,d),c(i,x),c(i,T),c(i,me),c(i,_e),c(i,he),c(i,be),c(i,ye),c(i,we),c(e,ve),c(e,v),N[k].m(v,null),c(v,ne),w&&w.m(v,null),c(v,se),j[C].m(v,null),c(v,re),X(L,v,null),U=!0},p(m,[E]){(!U||E&8)&&l!==(l=m[3].points+"")&&Q(u,l);let oe=k;k=$e(m),k===oe?N[k].p(m,E):(Ge(),I(N[oe],1,1,()=>{N[oe]=null}),qe(),S=N[k],S?S.p(m,E):(S=N[k]=Pe[k](m),S.c()),A(S,1),S.m(v,ne)),m[2]?w?w.p(m,E):(w=Ae(m),w.c(),w.m(v,se)):w&&(w.d(1),w=null);let ie=C;C=Ce(m),C===ie?j[C].p(m,E):(Ge(),I(j[ie],1,1,()=>{j[ie]=null}),qe(),W=j[C],W?W.p(m,E):(W=j[C]=ke[C](m),W.c()),A(W,1),W.m(v,re));const le={};E&8&&(le.guesses=m[3].guesses),E&8&&(le.currentResponse=m[3].currentResponse),L.$set(le)},i(m){U||(A(S),A(W),A(L.$$.fragment,m),U=!0)},o(m){I(S),I(W),I(L.$$.fragment,m),U=!1},d(m){m&&$(e),N[k].d(),w&&w.d(),j[C].d(),Z(L)}}}function St(t,e,n){let s;Ue(t,R,i=>n(3,s=i));let r="",o=!1,l=null;He(async()=>{await u()});async function u(){try{n(1,o=!0),n(2,l=null);const i=Array.from(s.guessedWords);n(0,r=await bt(i)),R.startGame(r)}catch(i){n(2,l="Failed to start a new round. Please try again."),console.error("Error starting new round:",i)}finally{n(1,o=!1)}}async function a(i){const{clue:p,currentWord:f}=i.detail;if(p.trim()){n(1,o=!0),n(2,l=null);try{const g=await yt(p,f);if(!g.isValid){n(2,l=g.message);return}R.addClue(p);const{guess:d,response:q}=await wt(p,s.clues);if(R.addGuess(d),d.toLowerCase()===f.toLowerCase()){const x=R.calculatePoints(s.clues.length);R.addPoints(x),R.addGuessedWord(f);let T=`Correct! You earned ${x} points!`;s.clues.length<=P.maxClues&&(T+=" (Bonus points for quick guess!)"),T+=`
${q}`,R.updateResponse(T),R.endGame()}else R.updateResponse(q)}catch(g){n(2,l="An error occurred while processing your clue. Please try again."),console.error("Error processing clue:",g)}finally{n(1,o=!1)}}}return[r,o,l,s,u,a]}class Wt extends te{constructor(e){super(),ee(this,e,St,Ot,K,{})}}new Wt({target:document.getElementById("app")});
